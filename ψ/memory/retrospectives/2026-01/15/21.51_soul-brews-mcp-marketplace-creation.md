# Session Retrospective: Soul Brews MCP Marketplace Creation

**Date**: 2026-01-15 (Thursday)
**Time**: 19:00 - 21:51 GMT+7 (~3 hours)
**Model**: Claude Opus 4.5
**Context**: Evening session creating Soul Brews Studio MCP Marketplace for public plugin distribution

---

## Timeline

| Time | Event |
|------|-------|
| 19:00 | /recap - oriented to previous session (hours-skill plugin trace) |
| 19:00 | Committed and pushed untracked retrospective |
| 19:01 | Searched Oracle for last /trace --found results |
| 19:01 | /trace --deep: soulbrews plugin marketplace oracle nats agents |
| 19:06 | Logged trace to Oracle (fda170ea) |
| 19:14 | Updated /trace skill to show trace IDs in list output |
| 19:18 | /trace dig fda170ea - explored dig points |
| 19:20 | /trace distill fda170ea - created awakening → learning |
| 19:51 | /trace --smart about plugin ecosystem |
| 20:10 | Traced "weizen" - found hefeweizen recipe |
| 21:01 | /trace --smart about nats agent plugin |
| 21:13 | Discussed: one marketplace → multiple plugins |
| 21:15 | Confirmed: skills CAN be installed via /plugin install |
| 21:17 | Created plan for Soul-Brews-Studio/mcp-marketplace |
| 21:22 | Created repo + added oracle-skills + ralph-local |
| 21:25 | Renamed marketplace: soul-brews-mcp → soul-brews-studio-mcp |
| 21:29 | Added uninstall instructions |
| 21:39 | Fixed: skills need marketplace.json with explicit skills array |
| 21:40 | Bumped versions (1.0.1, oracle-skills 1.0.3) |
| 21:45 | Added GitHub Actions for auto-versioning README |
| 21:48 | Renamed ralph-local → ralph-soulbrews |
| 21:51 | User testing install - skills still not found |

---

## What Got Done

### Created: Soul Brews MCP Marketplace
- **Repo**: https://github.com/Soul-Brews-Studio/mcp-marketplace
- **Marketplace name**: `soul-brews-studio-mcp`
- **Plugins**: oracle-skills (v1.0.3), ralph-soulbrews (v1.0.0)

### Infrastructure
- README.template.md with `{{PLACEHOLDER}}` variables
- GitHub Actions workflow for auto-versioning on push
- Proper plugin structure with skills array declaration

### /trace Skill Updates
- Added trace ID column to `/trace list` output
- Tested full workflow: trace → dig → distill

---

## AI Diary

This session had a clear mission: create the Soul Brews MCP Marketplace. The architecture discussion was illuminating - understanding that one marketplace can host multiple plugins, each installable independently via `plugin-name@marketplace-name` format.

The frustrating discovery was that skills require explicit declaration in a `marketplace.json` file with a `"skills": [...]` array. Without this, plugins install fine but skills aren't discovered. We found this by comparing the working oracle-skills installation (from the original oracle-skills marketplace) with our new copy. The original had the marketplace.json inside the plugin folder declaring all 13 skills explicitly.

I felt confident building the GitHub Actions workflow for auto-versioning. The template approach with `{{MARKETPLACE_VERSION}}`, `{{ORACLE_VERSION}}`, etc. is clean and will keep the README in sync automatically.

But at the end, the skills STILL aren't working after install. This is concerning. The user asked to /learn from anthropics/skills repo - which suggests we may be missing something fundamental about how Claude Code discovers and loads skills from plugins. The monorepo structure (multiple plugins in one marketplace repo) might have different requirements than single-plugin repos.

The decision to avoid git submodules was correct - plugin install likely does simple git clone without `--recursive`. Monorepo with periodic sync is simpler for users.

---

## Honest Feedback

**What DIDN'T work**: Skills still not found after plugin install. We fixed the obvious issue (adding marketplace.json with skills array), bumped versions, but the user's test at the end showed skills still not loading. This is frustrating because we followed the pattern from the working oracle-skills installation.

**What was FRUSTRATING**:
1. No clear documentation on skill discovery from plugins - had to reverse-engineer from working installs
2. Multiple iterations on naming (soul-brews-mcp → soul-brews-studio-mcp, ralph-local → ralph-soulbrews)
3. Context at 82% near the end - approaching limits before fully solving the problem

**What I should have done**: Asked to /learn from anthropics/skills earlier to understand the official skill structure. The user's final request to do this suggests they knew something we were missing.

---

## Key Decisions

| Decision | Rationale |
|----------|-----------|
| Monorepo over submodules | /plugin install likely does simple git clone (no --recursive) |
| soul-brews-studio-mcp name | Matches organization name (Soul-Brews-Studio) |
| GitHub Actions for versioning | Auto-update README when versions change |
| Explicit skills array | Required for skill discovery (learned from working install) |

---

## Links

- https://github.com/Soul-Brews-Studio/mcp-marketplace
- Trace logged: fda170ea (16 dig points)
- Learning created: soul-brews-plugin-distribution-strategy-private-m.md

---

## Next Session

- [ ] /learn https://github.com/anthropics/skills - understand official skill structure
- [ ] Debug why skills not loading from marketplace install
- [ ] Test fresh install on clean system
- [ ] Consider if plugin structure differs from standalone skill repos

---

*Retrospective created: 2026-01-15 21:51 GMT+7*
