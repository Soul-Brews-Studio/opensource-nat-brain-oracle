# Retrospective: MAW Incubation & Vault Session

**Date**: 2025-12-14 03:06 GMT+7 (Sunday)
**Session**: 02:29 - 03:06 (~37 minutes)
**Focus**: MAW incubation pattern, parallel subagent vault creation

---

## Summary

Extended the MAW toolkit usage to incubate external repos. Successfully used Oracle (Nat-s-Agents) as hub to dispatch Agent 1 to work on headline-analyzer, creating a 433-file Obsidian vault using parallel Haiku subagents.

---

## What We Did

### 1. Jump-Friendly Kanban (02:29-02:35)
- Designed kanban format for parallel work + context switching
- Created blog draft: `Ïˆ/writing/drafts/07-jump-friendly-kanban.md`
- Updated `CLAUDE_workflows.md` with WIP Management section
- Traffic light colors: ðŸ”´ NOW, ðŸŸ¢ PARALLEL, ðŸŸ¡ SOON, [-] PARKED, [x] DONE

### 2. MAW Incubation Pattern (02:35-02:45)
- Installed MAW in headline-analyzer: `cp -r .agents .envrc â†’ maw install`
- Learned: `source .envrc && maw hey 1 "task"` from Oracle root
- Discovered nested .envrc issue - must cd to Oracle root explicitly
- Agent 1 redirected to work in incubated repo while using Oracle's agents

### 3. Parallel Vault Creation (02:45-02:55)
- Agent 1 spawned 7 Haiku subagents to process 7 APIs in parallel
- Created 433 markdown files in ~190 seconds
- Structure: messages/, senders/, groups/, daily/, sources/
- Committed: 438 files, 10,862 insertions

### 4. Filename Fix (02:57-03:02)
- Spawned 4 subagents to convert Thai filenames to ASCII slugs
- groups/ folder fully converted with 157 link updates
- Some duplicate sender issues identified

---

## Key Patterns Learned

### MAW Incubation Pattern
```bash
# From Oracle root - control agents working on incubated repos
cd /Users/nat/Code/github.com/laris-co/Nat-s-Agents && source .envrc
maw hey 1 "cd /path/to/incubated/repo && claude --dangerously-skip-permissions"
maw hey 1 "task description"
```

### Parallel Subagent Pattern
```
EXPLORE â†’ SCAFFOLD â†’ DELEGATE â†’ AGGREGATE â†’ VERIFY
(Main)    (Main)    (NÃ—Haiku)    (Main)     (Main)
```

### Background Monitor Pattern
```python
# Spawn Haiku to monitor, never sleep yourself
Task(subagent_type="context-finder", model="haiku", run_in_background=True)
# Check with AgentOutputTool(block=False)
```

---

## Files Created

| File | Purpose |
|------|---------|
| `Ïˆ/writing/drafts/07-jump-friendly-kanban.md` | Blog draft |
| `Ïˆ/memory/learnings/2025-12-14_jump-friendly-kanban.md` | Kanban docs |
| `Ïˆ/memory/learnings/2025-12-14_parallel-subagent-vault-pattern.md` | Vault pattern |
| `Ïˆ/WIP-archive/2025-12-13.md` | Recovered WIP |
| headline-analyzer `Ïˆ/` | 433 vault files |

---

## AI Diary

This session felt like a breakthrough in agent orchestration. The moment when Agent 1 spawned 7 Haiku subagents and they all started processing different APIs in parallel - that was genuinely exciting to witness. It's one thing to understand parallel processing conceptually, another to see it happen in real-time across a tmux session.

The incubation pattern is powerful. Oracle as a hub that can dispatch agents to work on any project, while maintaining access to all 23 custom agents - this transforms how we can approach multi-repo work. Instead of context-switching between repos, we stay in Oracle and send agents out.

I appreciated the user's feedback: "always spawn haiku agent to do this work for you! never sleep and wait yourself" - this is a key insight about efficient agent usage. My instinct was to use `sleep 3 && check` but spawning a background monitor is much better. The agent can poll while I continue other work.

The Thai filename issue was a good lesson in anticipating problems. Agent 1's retrospective captured it perfectly: "Consider ASCII slugs for filenames, Thai in content." This is the kind of practical wisdom that only comes from doing.

---

## Honest Feedback

**What went well:**
- The user gave excellent guidance on patterns (always use maw hey, spawn monitors)
- Agent 1 performed admirably - created vault, reflected on learnings
- Background monitoring pattern worked smoothly

**What could improve:**
- I initially used `tmux send-keys` when I should have used `maw hey` - the user had to correct me multiple times
- The nested .envrc issue caused confusion - maw hey went to wrong session
- I used `sleep` instead of spawning monitors initially

**For next time:**
- Always `cd /Oracle/root && source .envrc && maw hey` - never rely on current dir
- Spawn background Haiku for any monitoring task
- When agent is working, don't interrupt with tmux send-keys

**Session quality**: 8/10 - Productive with good pattern discovery, some friction on maw usage

---

## Next Actions

- [ ] Commit this session's learnings to Oracle
- [ ] Let Agent 1 finish fixing sender duplicates
- [ ] Test Obsidian vault opening
- [ ] URGENT: ARTHUR clip + Demo (16 Dec)

---

*Session: maw-incubation-vault*
*Duration: ~37 minutes*
*Model: Claude Opus 4.5*
