# Session Retrospective - 2025-12-21 18:13

## Summary

Massive refactoring session: established ghq+symlink pattern across the codebase, separated plugins into own repos, and created oracle-framework-advanced as public template.

## Key Accomplishments

### 1. MAW Review Gate (#38)
- Created `maw checkpoint`, `maw review`, `maw watch`, `maw reset`
- Pattern: checkpoint → dispatch → watch → review → accept/reject
- Prevents AI from wasting tokens on `sleep 45`

### 2. ghq + Symlink Pattern
- **Golden Rule**: ghq owns the clone → ψ/ owns the symlink
- Fixed broken learn projects (claude-mem, floodboy-astro, esphome-fw)
- Migrated from nested `ψ/learn/repo/github.com/...` to flat `ψ/learn/<name>`
- Updated project-manager skill with anti-patterns

### 3. Plugin Separation
- Created `laris-co/nat-agents-core` (private)
- Created `laris-co/nat-data-personal` (private)
- Replaced plugins/ dirs with symlinks to ghq repos
- Fixed cache refresh flow (delete cache → restart)

### 4. oracle-framework-advanced
- Created `Soul-Brews-Studio/oracle-framework-advanced` (public)
- Full documentation: CLAUDE.md + safety + subagents + workflows
- 7-pillar ψ/ structure (added incubate + learn)
- Commands: /rrr, /snapshot, /recap

## Commits

| Hash | Description |
|------|-------------|
| 6130468 | feat(maw): add review gate commands |
| 3f1c14a | refactor: convert learn dirs to ghq symlinks |
| 9afcde4 | refactor: plugins as separate repos |
| 1388181 | learning: oracle-framework comparison |

## Patterns Established

### ghq + Symlink
```bash
ghq get -u URL
ln -sf "$(ghq root)/github.com/owner/repo" ψ/learn/name
```

### Plugin Cache Refresh
```bash
rm -rf ~/.claude/plugins/cache/nat-plugins/
# restart Claude Code
```

### Oracle Family
```
oracle-philosophy (minimal)
       ↓
oracle-framework (basic)
       ↓
oracle-framework-advanced (full)
```

## Learnings Created

1. `2025-12-21_ghq-symlink-pattern.md`
2. `2025-12-21_oracle-framework-comparison.md`
3. `2025-12-21_maw-review-gate-pattern.md` (earlier)

## New Repos Created

| Repo | Visibility | Purpose |
|------|------------|---------|
| laris-co/nat-agents-core | Private | Core agents plugin |
| laris-co/nat-data-personal | Private | Personal workflow plugin |
| Soul-Brews-Studio/oracle-framework-advanced | Public | Full template |

## Stats

- 68 files changed
- 1,147 insertions, 5,550 deletions (net cleanup!)
- 4 new repos created
- 4 MAW commands added

## Context

- User flying CNX → DMK (boarding during session)
- Quick iterations, mobile-friendly responses
- Focus on patterns that work across projects

## Next Steps

- [ ] Sync oracle-framework-advanced with latest patterns
- [ ] Consider making nat-agents-core public
- [ ] Test plugin installation in fresh project
- [ ] Contribute MAW improvements upstream

---

*Session: ~4 hours (14:15 - 18:13)*
*Theme: "ghq owns the clone, ψ/ owns the symlink"*
